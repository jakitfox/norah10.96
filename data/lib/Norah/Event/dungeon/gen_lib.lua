inst_global_stairs = {1387, 369, 1386, 3135, 5543, 1395, 1389, 1393, 1391, 1394, 1388, 1392, 1390, 6128, 476, 6127, 475, 8260}
-- tiles seen as unpathable by tp spawner

-- structure teleporters
INST_TP_RANDOM = 0 -- no destination param, random pathable spot inside dungeon
INST_TP_OFFSET = 1 -- offset is param, example: {5, 5, 0} will create teleport with destination x+5, y+5, z+0 from itself
INST_TP_TOPOS = 2 -- pos is param, example: {x = 1000, y = 1000, z = 7}

-- dungeon state
inst_statename = {[0] = "Closed", [1] = "Open", [2] = "Maintenance", [3] = "Rendering"}

-- border matching variable
local cnw,cne,n,csw,w,dse_dnw,dnw,cse,dsw_dne,e,dne,s,dsw,dse = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14

-- fixes applied before structures
EARTH_DIRT_FIX = 1
EARTH_DIRT_TOBORDER = 2
GROUND_2 = 3
SIMPLE_BORDER = 4

-- structures
	-- STRUCTURE_SHAMAN = { -- example
		-- SIZE = {7,7,1}, -- size
		-- DEFAULT_FLOOR = true,
		-- -- {id, {+x, +y}, countmax, chance, {inside}, actionid}
		-- -- inside = {
		-- -- {id, countmax, chance, {inside2}, actionid}
		-- -- }
		-- -- inside2 = {{id, countmax, chance, actionid}}	
		-- -- actionid handling won't be written unless we need it
		-- SETTINGS = {
			-- { -- one object(eg. 2x2 stone)
			-- [1] = { -- one variant(eg. where is placed or how it look)
				-- {7059, {0,0}},
				-- {1741, {1,0}, 1, 40, {
					-- {6098, {1,3}, 30},
					-- {6097, {1,3}, 30},
					-- {6126, {1,3}, 30},
					-- {5913, {1,3}, 70},
					-- {5909, {1,3}, 55},
					-- {6096, 1, 45},
					-- {6095, 1, 40},
					-- {5918, 1, 40},
					-- {5462, 1, 35},
					-- {2384, 1, 80},
					-- {2385, 1, 80},
					-- {2419, 1, 50},
					-- {2402, 1, 40},
					-- {5926, 1, 70, {
						-- {2120, 1, 90},
						-- {5710, 1, 75},
						-- {11219, 1, 65},
						-- {12436, 1, 60},
						-- {12467, 1, 75},
						-- {12540, 1, 45},
						-- {18447, 1, 30},
						-- {2050, 1, 80},
						-- {2050, 1, 80},
						-- {2050, 1, 80},
					-- }},
				-- }},
				-- {7059, {0,5}},
				-- {7059, {5,0}},
				-- {7059, {5,5}},
				-- {11253, {2,0}},
				-- {11253, {4,0}},
				-- {3693, {2,2}},
				-- {3694, {3,2}},
				-- {3695, {2,3}},
				-- {3696, {3,3}},
				-- {10449, {0,4}},
				-- {10449, {1,5}},
				-- {10449, {4,5}},
				-- {10449, {5,4}}
				-- }
			-- },
			-- {
			-- [1] = { -- chest
				-- {1741,{3,0}, 1, 100, {
					-- {7427, 1, 6},
					-- {5741, 1, 4},
					-- {5015, 1, 4},
					-- {3940, 1, 50, {
						-- {2214, 1, 40},
						-- {2165, 1, 40},
						-- {10218, 1, 20},
						-- {3982, 1, 30},
						-- {11374, 1, 30},
						-- {13291, 1, 10},
						-- {13295, 1, 10},
						-- {13294, 1, 10},
						-- {2050, 1, 70},
						-- {2050, 1, 70},
						-- {2050, 1, 70}
					-- }}
				-- }},
				-- {1642, {3,0}}
				-- },
				
			-- [2] = { -- basin
				-- {5074, {3,0}}
				-- },
				
			-- [3] = { -- totem
				-- {3803,{3,0}}
				-- }
			-- },
			-- {
			-- [1] = {
				-- {{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,12544,3955,5810,5669,2188,3983,9998,10001,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {0,4}, {1,5}, 80},
				-- {{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,12544,3955,5810,5669,2188,3983,9998,10001,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {1,5}, {1,5}, 80},
				-- {{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,12544,3955,5810,5669,2188,3983,9998,10001,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {4,5}, {1,5}, 80},
				-- {{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,12544,3955,5810,5669,2188,3983,9998,10001,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {5,4}, {1,5}, 80}
				-- }
			-- },
		-- },
		-- MONSTERS = {
		-- {"witch", {1,2}, 40},
		-- {"witch", {4,4}, 40},
		-- {"witch", {1,4}, 40}
		-- }, -- name, pos, chance in %
		-- NPCS = {{"Alice", {3,4}, 40}}
	-- }
	
	STRUCTURE_WITCH = {
		SIZE = {7,7,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{7059, {0,0}},
				{1741, {1,0}, 1, 40, {
					{6098, {1,3}, 20},
					{6097, {1,3}, 20},
					{6126, {1,3}, 20},
					{5913, {1,3}, 40},
					{5909, {1,3}, 35},
					{6096, 1, 25},
					{6095, 1, 20},
					{5918, 1, 20},
					{5462, 1, 25},
					{2384, 1, 40},
					{2385, 1, 40},
					{2419, 1, 20},
					{2402, 1, 40},
					{5926, 1, 70, {
						{2120, 1, 90},
						{5710, 1, 65},
						{11219, 1, 45},
						{12436, 1, 30},
						{12467, 1, 45},
						{18447, 1, 10},
						{2050, 1, 60},
						{2050, 1, 60},
						{2050, 1, 60},
					}},
				}},
				{7059, {0,5}},
				{7059, {5,0}},
				{7059, {5,5}},
				{11253, {2,0}},
				{11253, {4,0}},
				{3693, {2,2}},
				{3694, {3,2}},
				{3695, {2,3}},
				{3696, {3,3}},
				{10449, {0,4}},
				{10449, {1,5}},
				{10449, {4,5}},
				{10449, {5,4}}
				}
			},
			{
			[1] = { -- chest
				{1741,{3,0}, 1, 100, {
					{7427, 1, 6},
					{5741, 1, 4},
					{5015, 1, 4},
					{3940, 1, 50, {
						{2214, 1, 40},
						{2165, 1, 40},
						{10218, 1, 20},
						{3982, 1, 30},
						{11374, 1, 30},
						{13291, 1, 10},
						{13295, 1, 10},
						{13294, 1, 10},
						{2050, 1, 70},
						{2050, 1, 70},
						{2050, 1, 70}
					}}
				}},
				{1642, {3,0}}
				},
				
			[2] = {
				{5074, {3,0}}
				},
				
			[3] = {
				{3803,{3,0}}
				}
			},
			{
			[1] = {
				{{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,5810,5669,2188,3983,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {0,4}, {1,5}, 80},
				{{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,5810,5669,2188,3983,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {1,5}, {1,5}, 80},
				{{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,5810,5669,2188,3983,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {4,5}, {1,5}, 80},
				{{7618,7588,8704,7589,7620,7440,2148,2050,2670,2676,2678,2675,5097,2328,2152,9992,18422,2143,2144,2145,5898,5810,5669,2188,3983,5882,13939,5921,5920,5948,5877,5897,5896,5894,5902,5925,5890,8901,8900}, {5,4}, {1,5}, 80}
				}
			},
		},
		MONSTERS = {
		{"witch", {1,2}, 40},
		{"witch", {4,4}, 40},
		{"witch", {1,4}, 40}
		} -- name, pos, chance in %
	}
	
	STRUCTURE_AC_I = {
		SIZE = {15,8,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{7059, {1,0}},
				{7059, {13,0}},
				{7059, {1,6}},
				{7059, {13,6}},
				{3739, {7,0}},
				{1602, {2,3}},
				{1605, {2,4}},
				{1603, {3,3}},
				{1603, {4,3}},
				{1604, {5,3}},
				{1606, {3,4}},
				{1606, {4,4}},
				{1607, {5,4}},
				{1602, {9,3}},
				{1605, {9,4}},
				{1603, {10,3}},
				{1603, {11,3}},
				{1604, {12,3}},
				{1606, {10,4}},
				{1606, {11,4}},
				{1607, {12,4}},
				}
			},
		},
	}
	
	STRUCTURE_AC_II = {
		SIZE = {8,15,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{7059, {0,1}},
				{7059, {0,13}},
				{7059, {6,1}},
				{7059, {6,13}},
				{3740, {0,7}},
				{1608, {3,2}},
				{1609, {4,2}},
				{1610, {3,3}},
				{1610, {3,4}},
				{1612, {3,5}},
				{1611, {4,3}},
				{1611, {4,4}},
				{1613, {4,5}},
				{1608, {3,9}},
				{1609, {4,9}},
				{1610, {3,10}},
				{1610, {3,11}},
				{1612, {3,12}},
				{1611, {4,10}},
				{1611, {4,11}},
				{1613, {4,12}},
				}
			},
		},
	}
	
	STRUCTURE_CASK = {
		SIZE = {7,7,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{1782, {0,1}},
				{1784, {0,2}},
				{1782, {0,3}},
				{1784, {0,4}},
				{1783, {1,1}},
				{1785, {1,2}},
				{1783, {1,3}},
				{1785, {1,4}},
				{1602, {3,2}},
				{1605, {3,3}},
				{1604, {4,2}},
				{1607, {4,3}},
				},
			[2] = {
				{1778, {1,0}},
				{1779, {2,0}},
				{1778, {3,0}},
				{1779, {4,0}},
				{1780, {1,1}},
				{1781, {2,1}},
				{1780, {3,1}},
				{1781, {4,1}},
				{1602, {2,3}},
				{1605, {2,4}},
				{1604, {3,3}},
				{1607, {3,4}},
				},
			},
		},
	}
	
	STRUCTURE_ARMORY = {
		SIZE = {7,7,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{5853, {0,3}},
				{5853, {0,4}},
				{5853, {0,5}},
				{5852, {3,0}},
				{5852, {4,0}},
				{5852, {5,0}},
				{1602, {4,3}},
				{1605, {4,4}},
				{1604, {5,3}},
				{1607, {5,4}},
				}
			},
			{
			[1] = {
				{{5854}, {3,0}, 1, 40},
				{{5856}, {3,0}, 1, 40},
				{{5858}, {3,0}, 1, 40},
				{{5858}, {4,0}, 1, 40},
				{{5858}, {4,0}, 1, 40},
				{{5858}, {4,0}, 1, 40},
				{{5858}, {5,0}, 1, 40},
				{{5858}, {5,0}, 1, 40},
				{{5858}, {5,0}, 1, 40},
				{{5855}, {0,3}, 1, 40},
				{{5857}, {0,3}, 1, 40},
				{{5859}, {0,3}, 1, 40},
				{{5855}, {0,4}, 1, 40},
				{{5857}, {0,4}, 1, 40},
				{{5859}, {0,4}, 1, 40},
				{{5855}, {0,5}, 1, 40},
				{{5857}, {0,5}, 1, 40},
				{{5859}, {0,5}, 1, 40},
				}
			},
		},
	}
	
	STRUCTURE_SACR = {
		SIZE = {7,7,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{1428, {2,0}},
				{3803, {3,0}},
				{3740, {1,3}},
				{2617, {2,3}},
				{2621, {3,3}},
				{2613, {4,3}},
				{3742, {5,3}}
				}
			},
			{
			[1] = { -- chest
				{1741,{4,0}, 1, 70, {
					{7427, 1, 6},
					{5741, 1, 4},
					{5015, 1, 4},
					{3940, 1, 50, {
						{2214, 1, 40},
						{2165, 1, 40},
						{10218, 1, 20},
						{3982, 1, 30},
						{11374, 1, 30},
						{13291, 1, 10},
						{13295, 1, 10},
						{13294, 1, 10},
						{2050, 1, 70},
						{2050, 1, 70},
						{2050, 1, 70}
					}}
				}},
				{1642, {4,0}}
				},
			},
		},
	}
	
	STRUCTURE_TOMB_I = {
		SIZE = {6,6,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{419, {0,0}},
				{419, {1,0}},
				{419, {2,0}},
				{419, {3,0}},
				{419, {4,0}},
				{419, {0,1}},
				{419, {1,1}},
				{419, {2,1}},
				{463, {2,1}},
				{419, {3,1}},
				{419, {4,1}},
				{419, {0,2}},
				{419, {1,2}},
				{463, {1,2}},
				{419, {2,2}},
				{1486, {2,2}},
				{419, {3,2}},
				{463, {3,2}},
				{419, {4,2}},
				{419, {0,3}},
				{419, {1,3}},
				{419, {2,3}},
				{463, {2,3}},
				{419, {3,3}},
				{419, {4,3}},
				{419, {0,4}},
				{419, {1,4}},
				{419, {2,4}},
				{419, {3,4}},
				{419, {4,4}}
				}
			},
		},
	}
	
	PH_Valuables = {2466, 2344, 5904, 10530, 2446, 8981, 2128, 2474, 8877, 2451, 10535, 5805, 2503, 8885, 8931, 2470, 2646, 2504, 13948, 7410, 18504, 18500, 18508, 2524, 7429, 12647, 15453, 2575, 2137, 2443, 2062, 2063, 2392, 2418, 8904, 2187}
	STRUCTURE_TOMB_II = {
		SIZE = {5,5,1},
		DEFAULT_FLOOR = false,
		SETTINGS = {
			{
			[1] = {
				-- corner
				{1071, {0,0}},
				{1071, {1,0}},
				{1071, {2,0}},
				{1071, {3,0}},
				{1071, {4,0}},
				{1071, {0,1}},
				{1071, {0,2}},
				{1071, {0,3}},
				{1071, {0,4}},
				
				-- floor below walls
				{918, {4,1}},
				{918, {4,2}},
				{918, {4,3}},
				{918, {4,4}},
				{918, {3,4}},
				{918, {2,4}},
				{918, {1,4}},
				
				-- walls
				{1060, {4,1}},
				{1060, {4,2}},
				{1060, {4,3}},
				{1064, {4,4}},
				{1061, {3,4}},
				{1061, {2,4}},
				{1061, {1,4}},
				
				-- floor inside
				{918, {1,1}},
				{918, {2,1}},
				{918, {3,1}},
				{918, {1,2}},
				{918, {2,2}},
				{918, {3,2}},
				{918, {1,3}},
				{918, {2,3}},
				{918, {3,3}},
				
				-- coins inside
				{{14973, 14974, 14975, 14976, 14977, 14978}, {1,1}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {2,1}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {3,1}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {1,2}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {2,2}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {3,2}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {1,3}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {2,3}},
				{{14973, 14974, 14975, 14976, 14977, 14978}, {3,3}},
				
				-- valuables
				{PH_Valuables, {1,1}, 1, 60},
				{PH_Valuables, {2,1}, 1, 60},
				{PH_Valuables, {3,1}, 1, 60},
				{PH_Valuables, {1,2}, 1, 60},
				{PH_Valuables, {2,2}, 1, 60},
				{PH_Valuables, {3,2}, 1, 60},
				{PH_Valuables, {1,3}, 1, 60},
				{PH_Valuables, {2,3}, 1, 60},
				{PH_Valuables, {3,3}, 1, 60},
				{PH_Valuables, {1,1}, 1, 60},
				{PH_Valuables, {2,1}, 1, 60},
				{PH_Valuables, {3,1}, 1, 60},
				{PH_Valuables, {1,2}, 1, 60},
				{PH_Valuables, {2,2}, 1, 60},
				{PH_Valuables, {3,2}, 1, 60},
				{PH_Valuables, {1,3}, 1, 60},
				{PH_Valuables, {2,3}, 1, 60},
				{PH_Valuables, {3,3}, 1, 60}
				}
			},
		},
	}
	
	STRUCTURE_TOMB_III = {
		SIZE = {7,7,1},
		DEFAULT_FLOOR = false,
		SETTINGS = {
			{
			[1] = {
				-- corner
				{1071, {0,0}},
				{1071, {1,0}},
				{1071, {2,0}},
				{1071, {3,0}},
				{1071, {4,0}},
				{1071, {5,0}},
				{1071, {6,0}},
				{1071, {0,1}},
				{1071, {0,2}},
				{1071, {0,3}},
				{1071, {0,4}},
				{1071, {0,5}},
				{1071, {0,6}},
				
				-- the trick
				{464, {4,6}},
				{466, {6,4}},
				
				-- floor under walls
				{412, {6,1}},
				{412, {6,2}},
				{412, {6,3}},
				{412, {6,5}},
				{412, {6,6}},
				{412, {1,6}},
				{412, {2,6}},
				{412, {3,6}},
				{412, {5,6}},
				
				-- walls
				{1060, {6,1}},
				{1060, {6,2}},
				{1060, {6,3}},
				{1060, {6,5}},
				{1064, {6,6}},
				{1061, {1,6}},
				{1061, {2,6}},
				{1061, {3,6}},
				{1061, {5,6}},
				
				-- floor inside room
				{412, {1,1}},
				{412, {2,1}},
				{412, {3,1}},
				{412, {4,1}},
				{412, {5,1}},
				{412, {1,2}},
				{412, {2,2}},
				{412, {3,2}},
				{412, {4,2}},
				{412, {5,2}},
				{412, {1,3}},
				{412, {2,3}},
				{412, {3,3}},
				{412, {4,3}},
				{412, {5,3}},
				{412, {1,4}},
				{412, {2,4}},
				{412, {3,4}},
				{412, {4,4}},
				{412, {5,4}},
				{412, {1,5}},
				{412, {2,5}},
				{412, {3,5}},
				{412, {4,5}},
				{412, {5,5}},
				
				-- lamp
				{1484, {5,5}},
				
				-- sarcophagus
				{13718, {1,1}},
				{13719, {1,2}},
				
				-- altar
				{13731, {1,5}},
				{13480, {2,5}},
				
				-- column
				{13733, {3,3}},
				
				-- chest
				{463, {5,1}},
				{1740, {5,1}, 1, 60, {
					{2516, 1, 12},
					{2392, 1, 8},
					{2158, 1, 16},
					{2674, {1,5}, 80},
					{5925, {1,2}, 16},
					{2152, {1,15}, 20},
					{5889, {1,3}, 16},
					{2463, 1, 24},
					{2647, 1, 20},
					{2465, 1, 30},
					{2478, 1, 30},
					{2464, 1, 50},
					{2648, 1, 40},
				}},
				}
			},
		},
	}
	
	STRUCTURE_TOMB_IV = {
		SIZE = {6,6,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{{419, 419, 416}, {0,0}},
				{{419, 419, 416}, {1,0}},
				{{419, 419, 416}, {2,0}},
				{{419, 419, 416}, {3,0}},
				{{419, 419, 416}, {4,0}},
				{{419, 419, 416}, {0,1}},
				{{419, 419, 416}, {1,1}},
				{{419, 419, 416}, {2,1}},
				{{419, 419, 416}, {3,1}},
				{{419, 419, 416}, {4,1}},
				{{419, 419, 416}, {0,2}},
				{{419, 419, 416}, {1,2}},
				{{419, 419, 416}, {2,2}},
				{{419, 419, 416}, {3,2}},
				{{419, 419, 416}, {4,2}},
				{{419, 419, 416}, {0,3}},
				{{419, 419, 416}, {1,3}},
				{{419, 419, 416}, {2,3}},
				{{419, 419, 416}, {3,3}},
				{{419, 419, 416}, {4,3}},
				{{419, 419, 416}, {0,4}},
				{{419, 419, 416}, {1,4}},
				{{419, 419, 416}, {2,4}},
				{{419, 419, 416}, {3,4}},
				{{419, 419, 416}, {4,4}}
				}
			},
		},
	}
	
	STRUCTURE_TOMB_V = {
	SIZE = {9,9,1},
	DEFAULT_FLOOR = false,
	SETTINGS = {
			{
			[1] = {
				{1071, {4,0}},
				{1071, {4,1}},
				{1071, {4,2}},
				{1071, {3,2}},
				{1071, {2,2}},
				{1071, {2,3}},
				{1071, {2,4}},
				{1071, {1,4}},
				{1071, {0,4}},
				{1071, {0,5}},
				{1071, {0,6}},
				{1071, {0,7}},
				{1071, {0,8}},
				{1071, {5,0}},
				{1071, {6,0}},
				{1071, {7,0}},
				{1071, {8,0}},
				-- floor
				{419, {3,3}},
				{419, {5,5}},
				{{419, 419, 416}, {4,3}},
				{{419, 419, 416}, {5,3}},
				{{419, 419, 416}, {6,3}},
				{{419, 419, 416}, {7,3}},
				{{419, 419, 416}, {8,3}},
				{{419, 419, 416}, {3,4}},
				{{419, 419, 416}, {4,4}},
				{{419, 419, 416}, {5,4}},
				{{419, 419, 416}, {6,4}},
				{{419, 419, 416}, {7,4}},
				{{419, 419, 416}, {8,4}},
				{{419, 419, 416}, {3,5}},
				{{419, 419, 416}, {4,5}},
				{{419, 419, 416}, {6,5}},
				{{419, 419, 416}, {7,5}},
				{{419, 419, 416}, {8,5}},
				{{419, 419, 416}, {3,6}},
				{{419, 419, 416}, {4,6}},
				{{419, 419, 416}, {5,6}},
				{{419, 419, 416}, {6,6}},
				{{419, 419, 416}, {7,6}},
				{{419, 419, 416}, {8,6}},
				{{419, 419, 416}, {3,7}},
				{{419, 419, 416}, {4,7}},
				{{419, 419, 416}, {5,7}},
				{{419, 419, 416}, {6,7}},
				{{419, 419, 416}, {7,7}},
				{{419, 419, 416}, {8,7}},
				{{419, 419, 416}, {3,8}},
				{{419, 419, 416}, {4,8}},
				{{419, 419, 416}, {5,8}},
				{{419, 419, 416}, {6,8}},
				{{419, 419, 416}, {7,8}},
				{{419, 419, 416}, {8,8}},
				{420, {5,1}},
				{420, {6,1}},
				{420, {7,1}},
				{420, {8,1}},
				{{420, 416}, {5,2}},
				{420, {6,2}},
				{{420, 416}, {7,2}},
				{420, {8,2}},
				{420, {1,5}},
				{420, {1,6}},
				{420, {1,7}},
				{420, {1,8}},
				{{420, 416}, {2,5}},
				{420, {2,6}},
				{{420, 416}, {2,7}},
				{420, {2,8}},
				
				-- walls
				{1060, {6,1}},
				{1060, {8,1}},
				{1547, {5,2}},
				{1064, {6,2}},
				{1547, {7,2}},
				{1064, {8,2}},
				{1061, {1,6}},
				{1061, {1,8}},
				{1546, {2,5}},
				{1064, {2,6}},
				{1546, {2,7}},
				{1064, {2,8}},
				
				-- basin
				{1484, {3,3}},
				{463, {5,5}},
				{1945, {5,5}, 1, 80, actionid = 702},
				
				-- chests
				{463, {7,1}},
				{463, {1,5}},
				{1748, {1,5}, 1, 80, {
					{2516, 1, 12},
					{2515, 1, 8},
					{2540, 1, 16},
					{2674, {1,5}, 80},
					{5925, {1,2}, 16},
					{9971, {1,5}, 20},
					{5887, {1,2}, 16},
					{2463, 1, 24},
					{2647, 1, 20},
					{2465, 1, 20},
					{2478, 1, 20},
					{2464, 1, 40},
					{2648, 1, 30},
					{2376, 1, 30},
					{2377, 1, 30},
					{2384, 1, 30},
					{2397, 1, 30},
					{2404, 1, 30},
					{2407, 1, 30},
					{2413, 1, 20},
					{2419, 1, 20},
					{2442, 1, 30},
					{2438, 1, 15},
					{7385, 1, 20},
					{2439, 1, 20},
					{3962, 1, 20},
					{2189, 1, 10},
					{2188, 1, 10},
					{2185, 1, 10},
					{8912, 1, 10},
					{2455, 1, 20}
				}},
				{1740, {7,1}, 1, 80, {
					{2516, 1, 12},
					{2515, 1, 8},
					{2540, 1, 16},
					{2674, {1,5}, 80},
					{5925, {1,2}, 16},
					{9971, {1,5}, 20},
					{5887, {1,2}, 16},
					{2463, 1, 24},
					{2647, 1, 20},
					{2465, 1, 20},
					{2478, 1, 20},
					{2464, 1, 40},
					{2648, 1, 30},
					{2376, 1, 30},
					{2377, 1, 30},
					{2384, 1, 30},
					{2397, 1, 30},
					{2404, 1, 30},
					{2407, 1, 30},
					{2413, 1, 20},
					{2419, 1, 20},
					{2442, 1, 30},
					{2438, 1, 15},
					{7385, 1, 20},
					{2439, 1, 20},
					{3962, 1, 20},
					{2189, 1, 10},
					{2188, 1, 10},
					{2185, 1, 10},
					{8912, 1, 10},
					{2455, 1, 20}
				}},
				}
			},
		},
		MONSTERS = {
		{"dark torturer", {5,1}, 80},
		{"diabolic imp", {1,7}, 80}
		}
	}
	
	STRUCTURE_TOMB_VI = { -- {412, 419, 420}
	SIZE = {16,16,1},
	DEFAULT_FLOOR = false,
	SETTINGS = {
			{
			[1] = {
				{412, {6,0}},
				{1549, {6,0}},
				{412, {7,0}},
				{412, {8,0}},
				{1549, {8,0}},
				{{412, 419, 420}, {9,0}},
				{412, {6,1}},
				{419, {7,1}},
				{412, {8,1}},
				{{412, 419, 420}, {9,1}},
				{412, {6,2}},
				{419, {7,2}},
				{412, {8,2}},
				{{412, 419, 420}, {9,2}},
				{412, {6,3}},
				{419, {7,3}},
				{412, {8,3}},
				{{412, 419, 420}, {9,3}},
				{412, {6,4}},
				{419, {7,4}},
				{412, {8,4}},
				{{412, 419, 420}, {9,4}},
				{419, {5,5}},
				{419, {6,5}},
				{419, {7,5}},
				{419, {8,5}},
				{419, {9,5}},
				{{412, 419, 420}, {10,5}},
				{412, {0,6}},
				{1549, {0,6}},
				{412, {1,6}},
				{412, {2,6}},
				{412, {3,6}},
				{412, {4,6}},
				{419, {5,6}},
				{419, {6,6}},
				{419, {7,6}},
				{419, {8,6}},
				{419, {9,6}},
				{412, {10,6}},
				{412, {11,6}},
				{412, {12,6}},
				{412, {13,6}},
				{412, {14,6}},
				{1549, {14,6}},
				{{412, 419, 420}, {15,6}},
				{412, {0,7}},
				{419, {1,7}},
				{419, {2,7}},
				{419, {3,7}},
				{419, {4,7}},
				{419, {5,7}},
				{419, {6,7}},
				{419, {7,7}},
				{419, {8,7}},
				{419, {9,7}},
				{419, {10,7}},
				{419, {11,7}},
				{419, {12,7}},
				{419, {13,7}},
				{412, {14,7}},
				{{412, 419, 420}, {15,7}},
				{412, {0,8}},
				{1549, {0,8}},
				{412, {1,8}},
				{412, {2,8}},
				{412, {3,8}},
				{412, {4,8}},
				{419, {5,8}},
				{419, {6,8}},
				{419, {7,8}},
				{419, {8,8}},
				{419, {9,8}},
				{412, {10,8}},
				{412, {11,8}},
				{412, {12,8}},
				{412, {13,8}},
				{412, {14,8}},
				{1549, {14,8}},
				{{412, 419, 420}, {15,8}},
				{{412, 419, 420}, {0,9}},
				{{412, 419, 420}, {1,9}},
				{{412, 419, 420}, {2,9}},
				{{412, 419, 420}, {3,9}},
				{{412, 419, 420}, {4,9}},
				{419, {5,9}},
				{419, {6,9}},
				{419, {7,9}},
				{419, {8,9}},
				{419, {9,9}},
				{{412, 419, 420}, {10,9}},
				{{412, 419, 420}, {11,9}},
				{{412, 419, 420}, {12,9}},
				{{412, 419, 420}, {13,9}},
				{{412, 419, 420}, {14,9}},
				{{412, 419, 420}, {15,9}},
				{{412, 419, 420}, {5,10}},
				{412, {6,10}},
				{419, {7,10}},
				{412, {8,10}},
				{{412, 419, 420}, {9,10}},
				{{412, 419, 420}, {10,10}},
				{412, {6,11}},
				{419, {7,11}},
				{412, {8,11}},
				{{412, 419, 420}, {9,11}},
				{412, {6,12}},
				{419, {7,12}},
				{412, {8,12}},
				{{412, 419, 420}, {9,12}},
				{412, {6,13}},
				{419, {7,13}},
				{412, {8,13}},
				{{412, 419, 420}, {9,13}},
				{412, {6,14}},
				{1549, {6,14}},
				{412, {7,14}},
				{412, {8,14}},
				{1549, {8,14}},
				{{412, 419, 420}, {9,14}},
				{{412, 419, 420}, {6,15}},
				{{412, 419, 420}, {7,15}},
				{{412, 419, 420}, {8,15}},
				{{412, 419, 420}, {9,15}},
				
				-- middle area
				{1486, {7,7}},
				{463, {6,7}},
				{463, {7,6}},
				{463, {8,7}},
				{463, {7,8}},
				{1945, {7,8}, actionid = 703},
				}
			},
		},
	}
	
	STRUCTURE_TOMB_VII = {
		SIZE = {8,8,1},
		DEFAULT_FLOOR = true,
		SETTINGS = {
			{
			[1] = {
				{1071, {0,0}},
				{1071, {1,0}},
				{1071, {6,0}},
				{1071, {7,0}},
				{1071, {0,1}},
				{1071, {7,1}},
				{1071, {0,6}},
				{1071, {0,7}},
				{1071, {1,7}},
				{1071, {6,7}},
				{1071, {7,7}},
				{1071, {7,6}},
				{{412, 416}, {2,0}},
				{{412, 416}, {3,0}},
				{{412, 416}, {4,0}},
				{{412, 416}, {2,6}},
				{{412, 416}, {3,6}},
				{{412, 416}, {4,6}},
				{{412, 416}, {0,2}},
				{{412, 416}, {0,3}},
				{{412, 416}, {0,4}},
				{{412, 416}, {6,2}},
				{{412, 416}, {6,3}},
				{{412, 416}, {6,4}},
				{{419, 416}, {1,1}},
				{{419, 416}, {2,1}},
				{{419, 416}, {3,1}},
				{{419, 416}, {4,1}},
				{{419, 416}, {5,1}},
				{{419, 416}, {1,5}},
				{{419, 416}, {2,5}},
				{{419, 416}, {3,5}},
				{{419, 416}, {4,5}},
				{{419, 416}, {5,5}},
				{{419, 416}, {1,2}},
				{{419, 416}, {1,3}},
				{{419, 416}, {1,4}},
				{{419, 416}, {5,2}},
				{{419, 416}, {5,3}},
				{{419, 416}, {5,4}},
				{{412, 416}, {2,2}},
				{{412, 416}, {3,2}},
				{{412, 416}, {4,2}},
				{{412, 416}, {2,3}},
				{412, {3,3}},
				{1617, {3,3}},
				{1740, {3,3}, 1, 100, {
					{5889, {1,3}, 20},
					{2152, {1,15}, 25},
					{5925, {1,2}, 20},
					{2674, {1,5}, 80},
					{2154, 1, 20},
					{2155, 1, 20},
					{2156, 1, 20},
					{2158, 1, 20}
				}},
				{{412, 416}, {4,3}},
				{{412, 416}, {2,4}},
				{{412, 416}, {3,4}},
				{{412, 416}, {4,4}},
				}
			},
		},
	}
	
	inst_tomb_viii_rewards = {
		{2516, 1, 9},
		{2515, 1, 6},
		{2540, 1, 12},
		{2674, {1,5}, 80},
		{5925, {1,2}, 12},
		{9971, {1,5}, 8},
		{5887, {1,2}, 8},
		{2463, 1, 18},
		{2647, 1, 15},
		{2465, 1, 15},
		{2478, 1, 15},
		{2464, 1, 30},
		{2648, 1, 30},
		{2376, 1, 30},
		{2377, 1, 30},
		{2384, 1, 30},
		{2397, 1, 30},
		{2404, 1, 30},
		{2407, 1, 30},
		{2413, 1, 15},
		{2419, 1, 15},
		{2442, 1, 30},
		{2438, 1, 10},
		{7385, 1, 15},
		{2439, 1, 15},
		{3962, 1, 15},
		{2189, 1, 8},
		{2188, 1, 8},
		{2185, 1, 8},
		{8912, 1, 8},
		{2455, 1, 15},
		{8878, 1, 4},
		{2466, 1, 5},
		{2470, 1, 4},
		{2645, 1, 4},
		{2335, 1, 2},
		{2336, 1, 2},
		{2337, 1, 2},
		{2338, 1, 2},
		{2339, 1, 2},
		{2340, 1, 2},
		{2341, 1, 2}
	}
	STRUCTURE_TOMB_VIII = {
		SIZE = {16,34,1},
		DEFAULT_FLOOR = false,
		SETTINGS = {
			{
				[1] = { -- main pattern
					-- room a
					{1071, {4,0}},
					{1071, {5,0}},
					{1071, {6,0}},
					{1071, {7,0}},
					{1071, {8,0}},
					{1071, {9,0}},
					{1071, {10,0}},
					{1071, {4,1}},
					{1071, {4,2}},
					{1071, {4,3}},
					{1071, {4,4}},
					{1071, {4,5}},
					{1071, {4,6}},
					{412, {10,1}},
					{412, {10,2}},
					{412, {10,3}},
					{412, {10,4}},
					{412, {10,5}},
					{412, {10,6}},
					{412, {9,6}},
					{412, {8,6}},
					{412, {7,6}},
					{412, {6,6}},
					{412, {5,6}},
					{1060, {10,1}},
					{1060, {10,2}},
					{1060, {10,3}},
					{1060, {10,4}},
					{1060, {10,5}},
					{1064, {10,6}},
					{1061, {9,6}},
					{1061, {8,6}},
					{1061, {7,6}},
					{1061, {6,6}},
					{1061, {5,6}},
					{412, {5,1}},
					{412, {9,1}},
					{412, {9,5}, teleport = {id = 1387, action = INST_TP_OFFSET, dest = {-6, 11, 0}}},
					{412, {5,5}},
					{419, {6,1}},
					{419, {7,1}},
					{419, {8,1}},
					{419, {6,5}},
					{419, {7,5}},
					{419, {8,5}},
					{419, {5,2}},
					{419, {5,3}},
					{419, {5,4}},
					{419, {9,2}},
					{419, {9,3}},
					{419, {9,4}},
					{463, {7,1}},
					{463, {7,5}},
					{463, {5,3}},
					{463, {9,3}},
					{416, {7,3}, actionid = 0},
					
					-- room b
					{1071, {4,27}},
					{1071, {5,27}},
					{1071, {6,27}},
					{1071, {7,27}},
					{1071, {8,27}},
					{1071, {9,27}},
					{1071, {10,27}},
					{1071, {4,28}},
					{1071, {4,29}},
					{1071, {4,30}},
					{1071, {4,31}},
					{1071, {4,32}},
					{1071, {4,33}},
					{412, {10,28}},
					{412, {10,29}},
					{412, {10,30}},
					{412, {10,31}},
					{412, {10,32}},
					{412, {10,33}},
					{412, {9,33}},
					{412, {8,33}},
					{412, {7,33}},
					{412, {6,33}},
					{412, {5,33}},
					{1060, {10,28}},
					{1060, {10,29}},
					{1060, {10,30}},
					{1060, {10,31}},
					{1060, {10,32}},
					{1064, {10,33}},
					{1061, {9,33}},
					{1061, {8,33}},
					{1061, {7,33}},
					{1061, {6,33}},
					{1061, {5,33}},
					{412, {5,28}},
					{412, {9,28}},
					{412, {9,32}, teleport = {id = 1387, action = INST_TP_OFFSET, dest = {2, -16, 0}}},
					{412, {5,32}},
					{419, {6,28}},
					{419, {7,28}},
					{419, {8,28}},
					{419, {6,32}},
					{419, {7,32}},
					{419, {8,32}},
					{419, {5,29}},
					{419, {5,30}},
					{419, {5,31}},
					{419, {9,29}},
					{419, {9,30}},
					{419, {9,31}},
					{463, {7,28}},
					{463, {7,32}},
					{463, {5,30}},
					{463, {9,30}},
					{416, {7,30}, actionid = 0},
					
					-- middle
					{419, {4,12}},
					{419, {5,12}},
					{419, {6,12}},
					{{419, 412, 420}, {7,12}},
					{419, {8,12}},
					{419, {9,12}},
					{419, {10,12}},
					{{419, 412, 420}, {11,12}},
					{419, {2,13}},
					{419, {3,13}},
					{419, {4,13}},
					{790, {5,13}},
					{419, {6,13}},
					{419, {7,13}},
					{419, {8,13}},
					{790, {9,13}},
					{419, {10,13}},
					{419, {11,13}},
					{419, {12,13}},
					{{419, 412, 420}, {13,13}},
					{419, {1,14}},
					{790, {2,14}},
					{790, {3,14}},
					{790, {4,14}},
					{790, {5,14}},
					{790, {6,14}},
					{790, {7,14}},
					{790, {8,14}},
					{790, {9,14}},
					{790, {10,14}},
					{790, {11,14}},
					{790, {12,14}},
					{419, {13,14}},
					{{419, 412, 420}, {14,14}},
					{419, {0,15}},
					{790, {1,15}},
					{419, {2,15}},
					{419, {3,15}},
					{419, {4,15}},
					{790, {5,15}},
					{419, {6,15}},
					{419, {7,15}},
					{419, {8,15}},
					{790, {9,15}},
					{419, {10,15}},
					{419, {11,15}},
					{419, {12,15}},
					{790, {13,15}},
					{419, {14,15}},
					{{419, 412, 420}, {15,15}},
					{419, {0,16}},
					{790, {1,16}},
					{419, {2,16}},
					{416, {3,16}, actionid = 0},
					{419, {4,16}},
					{790, {5,16}},
					{419, {6,16}},
					{419, {7,16}},
					{463, {7,16}},
					{1945, {7,16}, actionid = 704},
					{419, {8,16}},
					{790, {9,16}},
					{419, {10,16}},
					{416, {11,16}, actionid = 0},
					{419, {12,16}},
					{790, {13,16}},
					{419, {14,16}},
					{{419, 412, 420}, {15,16}},
					{419, {0,17}},
					{790, {1,17}},
					{419, {2,17}},
					{419, {3,17}},
					{419, {4,17}},
					{790, {5,17}},
					{419, {6,17}},
					{419, {7,17}},
					{419, {8,17}},
					{790, {9,17}},
					{419, {10,17}},
					{419, {11,17}},
					{419, {12,17}},
					{790, {13,17}},
					{419, {14,17}},
					{{419, 412, 420}, {15,17}},
					{{419, 412, 420}, {0,18}},
					{419, {1,18}},
					{790, {2,18}},
					{790, {3,18}},
					{790, {4,18}},
					{790, {5,18}},
					{790, {6,18}},
					{790, {7,18}},
					{790, {8,18}},
					{790, {9,18}},
					{790, {10,18}},
					{790, {11,18}},
					{790, {12,18}},
					{419, {13,18}},
					{{419, 412, 420}, {14,18}},
					{{419, 412, 420}, {15,18}},
					{{419, 412, 420}, {1,19}},
					{419, {2,19}},
					{419, {3,19}},
					{419, {4,19}},
					{790, {5,19}},
					{419, {6,19}},
					{419, {7,19}},
					{419, {8,19}},
					{790, {9,19}},
					{419, {10,19}},
					{419, {11,19}},
					{419, {12,19}},
					{{419, 412, 420}, {13,19}},
					{{419, 412, 420}, {14,19}},
					{{419, 412, 420}, {2,20}},
					{{419, 412, 420}, {3,20}},
					{419, {4,20}},
					{419, {5,20}},
					{419, {6,20}},
					{{419, 412, 420}, {7,20}},
					{419, {8,20}},
					{419, {9,20}},
					{419, {10,20}},
					{{419, 412, 420}, {11,20}},
					{{419, 412, 420}, {12,20}},
					{{419, 412, 420}, {13,20}},
					
					{{419, 412, 420}, {3,21}},
					{{419, 412, 420}, {4,21}},
					{{419, 412, 420}, {5,21}},
					{{419, 412, 420}, {6,21}},
					{{419, 412, 420}, {7,21}},
					{{419, 412, 420}, {8,21}},
					{{419, 412, 420}, {9,21}},
					{{419, 412, 420}, {10,21}},
					{{419, 412, 420}, {11,21}}
				},	
			},
			{
				[1] = {
					{412, {6,2}},
					{412, {7,2}},
					{412, {8,2}},
					{412, {6,3}},
					{412, {8,3}},
					{412, {6,4}},
					{412, {7,4}},
					{412, {8,4}},
					{1740, {7,1}, 1, 80, inst_tomb_viii_rewards},
					{1747, {7,5}, 1, 80, inst_tomb_viii_rewards},
					{1748, {5,3}, 1, 80, inst_tomb_viii_rewards},
					{1749, {9,3}, 1, 80, inst_tomb_viii_rewards}
				},
				[2] = {
					{6353, {6,2}}, -- plag
					{6353, {7,2}},
					{6353, {8,2}},
					{6353, {6,3}},
					{6353, {8,3}},
					{6353, {6,4}},
					{6353, {7,4}},
					{6353, {8,4}},
					{412, {5,1}, monster = {"plaguesmith", 80}},
					{412, {9,1}, monster = {"plaguesmith", 80}},
					{412, {5,5}, monster = {"plaguesmith", 80}}
				}
			},
			{
				[1] = {
					{412, {6,29}},
					{412, {7,29}},
					{412, {8,29}},
					{412, {6,30}},
					{412, {8,30}},
					{412, {6,31}},
					{412, {7,31}},
					{412, {8,31}},
					{1740, {7,28}, 1, 80, inst_tomb_viii_rewards},
					{1747, {7,32}, 1, 80, inst_tomb_viii_rewards},
					{1748, {5,30}, 1, 80, inst_tomb_viii_rewards},
					{1749, {9,30}, 1, 80, inst_tomb_viii_rewards}
				},
				[2] = {
					{6353, {6,29}},
					{6353, {7,29}},
					{6353, {8,29}},
					{6353, {6,30}},
					{6353, {8,30}},
					{6353, {6,31}},
					{6353, {7,31}},
					{6353, {8,31}},
					{412, {5,28}, monster = {"plaguesmith", 80}},
					{412, {9,28}, monster = {"plaguesmith", 80}},
					{412, {5,32}, monster = {"plaguesmith", 80}}
				}
			}
		},
	}
	
	STRUCTURE_TOMB_IX = {
		SIZE = {33,11,1},
		DEFAULT_FLOOR = false,
		SETTINGS = {
			{
			[1] = {
				-- object a
				{419, {1,1}},
				{419, {2,1}},
				{419, {3,1}},
				{{419, 412, 420}, {4,1}},
				{419, {5,1}},
				{419, {6,1}},
				{419, {7,1}},
				{{419, 412, 420}, {8,1}},
				
				{419, {0,2}},
				{419, {1,2}},
				{790, {2,2}},
				{419, {3,2}},
				{419, {4,2}},
				{1484, {4,2}},
				{419, {5,2}},
				{790, {6,2}},
				{419, {7,2}},
				{419, {8,2}},
				{{419, 412, 420}, {9,2}},
				
				{419, {0,3}},
				{790, {1,3}},
				{790, {2,3}},
				{790, {3,3}},
				{790, {4,3}},
				{790, {5,3}},
				{790, {6,3}},
				{790, {7,3}},
				{419, {8,3}},
				{{419, 412, 420}, {9,3}},
				
				{419, {0,4}},
				{419, {1,4}},
				{790, {2,4}},
				{419, {3,4}},
				{419, {4,4}},
				{419, {5,4}},
				{790, {6,4}},
				{419, {7,4}},
				{419, {8,4}},
				{{419, 412, 420}, {9,4}},
				
				{{419, 412, 420}, {0,5}},
				{419, {1,5}},
				{1484, {1,5}},
				{790, {2,5}},
				{419, {3,5}},
				{419, {4,5}, teleport = {id = 1387, action = INST_TP_OFFSET, dest = {23, -4, 0}}},
				{419, {5,5}},
				{790, {6,5}},
				{419, {7,5}},
				{1484, {7,5}},
				{{419, 412, 420}, {8,5}},
				{{419, 412, 420}, {9,5}},
				
				{419, {0,6}},
				{419, {1,6}},
				{790, {2,6}},
				{419, {3,6}},
				{419, {4,6}},
				{419, {5,6}},
				{790, {6,6}},
				{419, {7,6}},
				{419, {8,6}},
				{{419, 412, 420}, {9,6}},
				
				{419, {0,7}},
				{790, {1,7}},
				{790, {2,7}},
				{790, {3,7}},
				{790, {4,7}},
				{790, {5,7}},
				{790, {6,7}},
				{790, {7,7}},
				{419, {8,7}},
				{{419, 412, 420}, {9,7}},
				
				{419, {0,8}},
				{419, {1,8}},
				{790, {2,8}},
				{419, {3,8}},
				{419, {4,8}},
				{1484, {4,8}},
				{419, {5,8}},
				{790, {6,8}},
				{419, {7,8}},
				{419, {8,8}},
				{{419, 412, 420}, {9,8}},
				
				{{419, 412, 420}, {0,9}},
				{419, {1,9}},
				{419, {2,9}},
				{419, {3,9}},
				{{419, 412, 420}, {4,9}},
				{419, {5,9}},
				{419, {6,9}},
				{419, {7,9}},
				{{419, 412, 420}, {8,9}},
				{{419, 412, 420}, {9,9}},
				
				{{419, 412, 420}, {1,10}},
				{{419, 412, 420}, {2,10}},
				{{419, 412, 420}, {3,10}},
				{{419, 412, 420}, {4,10}},
				{{419, 412, 420}, {5,10}},
				{{419, 412, 420}, {6,10}},
				{{419, 412, 420}, {7,10}},
				{{419, 412, 420}, {8,10}},
				
				-- object b
				{1071, {22, 0}},
				{1071, {23, 0}},
				{1071, {24, 0}},
				{1071, {25, 0}},
				{1071, {26, 0}},
				{1071, {27, 0}},
				{1071, {28, 0}},
				{1071, {29, 0}},
				{1071, {30, 0}},
				{1071, {31, 0}},
				{1071, {32, 0}},
				{1071, {22, 1}},
				{1071, {22, 2}},
				{1071, {22, 3}},
				{1071, {22, 4}},
				{1071, {22, 5}},
				{1071, {22, 6}},
				{1071, {22, 7}},
				{1071, {22, 8}},
				{1071, {22, 9}},
				{1071, {22, 10}},
				{419, {23, 1}},
				{1549, {23, 1}},
				{419, {24, 1}},
				{1484, {24, 1}},
				{419, {25, 1}},
				{419, {26, 1}},
				{419, {27, 1}},
				{419, {28, 1}},
				{419, {29, 1}},
				{419, {30, 1}},
				{1484, {30, 1}},
				{419, {31, 1}},
				{1549, {31, 1}},
				{419, {32, 1}},
				{1060, {32, 1}},
				
				{419, {23, 2}},
				{1484, {23, 2}},
				{790, {24, 2}},
				{790, {25, 2}},
				{790, {26, 2}},
				{790, {27, 2}},
				{790, {28, 2}},
				{790, {29, 2}},
				{790, {30, 2}},
				{419, {31, 2}},
				{1484, {31, 2}},
				{419, {32, 2}},
				{1060, {32, 2}},
				
				{419, {23, 3}},
				{790, {24, 3}},
				{790, {25, 3}},
				{419, {26, 3}},
				{419, {27, 3}},
				{419, {28, 3}},
				{790, {29, 3}},
				{790, {30, 3}},
				{419, {31, 3}},
				{419, {32, 3}},
				{1060, {32, 3}},
				
				{419, {23, 4}},
				{790, {24, 4}},
				{790, {25, 4}},
				{419, {26, 4}},
				{419, {27, 4}},
				{1417, {27, 4}, actionid = 705},
				{419, {28, 4}},
				{790, {29, 4}},
				{790, {30, 4}},
				{419, {31, 4}},
				{419, {32, 4}},
				{1060, {32, 4}},
				
				{419, {23, 5}},
				{790, {24, 5}},
				{790, {25, 5}},
				{419, {26, 5}},
				{419, {27, 5}},
				{1418, {27, 5}},
				{419, {28, 5}},
				{790, {29, 5}},
				{790, {30, 5}},
				{419, {31, 5}},
				{419, {32, 5}},
				{1060, {32, 5}},
				
				{419, {23, 6}},
				{790, {24, 6}},
				{790, {25, 6}},
				{419, {26, 6}},
				{419, {27, 6}},
				{419, {28, 6}},
				{790, {29, 6}},
				{790, {30, 6}},
				{419, {31, 6}},
				{419, {32, 6}},
				{1060, {32, 6}},
				
				{419, {23, 7}},
				{790, {24, 7}},
				{790, {25, 7}},
				{790, {26, 7}},
				{790, {27, 7}},
				{790, {28, 7}},
				{790, {29, 7}},
				{790, {30, 7}},
				{419, {31, 7}},
				{419, {32, 7}},
				{1060, {32, 7}},
				
				{419, {23, 8}},
				{1484, {23, 8}},
				{790, {24, 8}},
				{790, {25, 8}},
				{790, {26, 8}},
				{790, {27, 8}},
				{790, {28, 8}},
				{790, {29, 8}},
				{790, {30, 8}},
				{419, {31, 8}},
				{1484, {31, 8}},
				{419, {32, 8}},
				{1060, {32, 8}},
				
				{419, {23, 9}},
				{1549, {23, 9}},
				{419, {24, 9}},
				{1484, {24, 9}},
				{419, {25, 9}},
				{419, {27, 9}},
				{419, {27, 9}, teleport = {id = 1387, action = INST_TP_OFFSET, dest = {-23, -2, 0}}},
				{419, {28, 9}},
				{419, {29, 9}},
				{419, {30, 9}},
				{1484, {30, 9}},
				{419, {31, 9}},
				{1549, {31, 9}},
				{419, {32, 9}},
				{1060, {32, 9}},
				
				{419, {23, 10}},
				{1061, {23, 10}},
				{419, {24, 10}},
				{1061, {24, 10}},
				{419, {25, 10}},
				{1061, {25, 10}},
				{419, {26, 10}},
				{1061, {26, 10}},
				{419, {27, 10}},
				{1061, {27, 10}},
				{419, {28, 10}},
				{1061, {28, 10}},
				{419, {29, 10}},
				{1061, {29, 10}},
				{419, {30, 10}},
				{1061, {30, 10}},
				{419, {31, 10}},
				{1061, {31, 10}},
				{419, {32, 10}},
				{1064, {32, 10}},
				}
			},
		},
	}
	
	GEN_CAVE = 0
	GEN_TUNNEL = 1
	
	BORDER_STONE_BASIC = 1
	BORDER_STONE_2 = 2
	BORDER_STONE_DETAILS = 3
	BORDER_TOMB_WALL = 4
	BORDER_TOMB_SAND = 5
	BORDER_TOMB_SARC = 6
	BORDER_EARTH_DIRT = 7
	BORDER_OUTER_LAVA = 8
	BORDER_INNER_LAVA = 9
	
	ACTION_DSE_DNW_DEBUG_1 = 1
	ACTION_CSE_DEBUG_1 = 2
	ACTION_DSE_DEBUG_1 = 3
	ACTION_BORDER_2 = 4
	ACTION_BORDER_3 = 5
	ACTION_BORDER_4 = 6
	ACTION_BORDER_5 = 7
	
	ARRAY_OLD_TREES = {2709, 2710, 2719, 2720, 2721, 2770, 2784, 3323, 5392, 5396}
	ARRAY_CAVE = {386,387,388,389,390,391}
	ARRAY_FIELDS = {1487,1488,1489,1490,1491}
	ARRAY_UNWALKABLE_STONES = {1290, 1285, 1304, 1353, 3607, 3608, 3609, 3615, 3616}
	ARRAY_DEBRIS = {1309, 1323, 1330}
	ARRAY_CAMPFIRES = {1423, 1424, 1425, 1426, 1427, 1428}
	ARRAY_PILLARS = {1514, 3766, 3767}
	ARRAY_BLACK_JAGGED = {8020, 8361}
	ARRAY_PAGODA = {3728, 3737}
	ARRAY_CRYSTALS = {11826}
	ARRAY_SKULLS = {11253, 12946, 12953}
	ARRAY_RAND_STUFF = {8214, 8215, 8216, 8217, 8218, 8219, 8220, 8221, 8222, 8223, 8224, 8225, 8226, 10501, 10505, 10506}
	ARRAY_BONES = {8009, 8010, 8386, 8387}
	ARRAY_STONE_PILES = {9419, 9420, 9421, 9422, 5619, 5620, 5621, 5622, 5623, 5624, 5707, 5708, 5709}
	ARRAY_TRASH = {2242,2233,2241,2238,2227,2224,2221,2234,2230.2231,2226,2236,2237}
	ARRAY_BLOODS = {1905,1904,1903}
	ARRAY_BONE = {2230,2231,2229}
	
	ARRAY_MOSS = {4580, 4581, 4582, 4583, 4584, 4585, 4586, 4587, 4588, 4589, 4590, 4591, 4592, 4593, 4594}
	ARRAY_SMALL_ROCKS = {3610, 3611, 3612, 3613, 3614, 3621, 3622, 3623}
	ARRAY_FLOOR_GEMS = {7978, 7979, 7981, 7982, 7983, 7984, 7985, 7986}
	
	pits_spawns = {} -- leave them empty
	world_details = {}
	generated_chests = {}
	generated_structures = {}
	players_inside = {}
	
	border_2_cases = {
		[cnw] = {
			[1] = {tiles = {{6384, 1, {1, 0}},{6380, 1, {2, 0}},{6379, 1, {-1, 1}},{6377, 1, {0, 1}},{6383, 1, {0, 1}},{6386, 1, {1, 1}},{6381, 1, {2, 1}},{6382, 1, {-1, 2}},{6385, 1, {0, 2}},{6376, 1, {1, 2}},{6382, 1, {0, 3}},{6381, 1, {1, 3}}}, stones = {{3611, 1, {1, 0}},{3613, 1, {1, 1}},{3610, 1, {0, 2}}}},
			[2] = {tiles = {{6380, 1, {1, -1}},{6384, 1, {1, 0}},{6380, 1, {2, 0}},{6378, 1, {-1, 1}},{6386, 1, {0, 1}},{6377, 1, {1, 1}},{6381, 1, {2, 1}},{6382, 1, {-1, 2}},{6381, 1, {0, 2}}}, stones = {{3622, 1, {1, 0}},{3614, 1, {0, 1}},{3622, 1, {-1, 1}}}},
			[3] = {tiles = {{6380, 1, {1, -1}},{6376, 1, {1, 0}},{6382, 1, {-1, 1}},{6385, 1, {0, 1}},{6376, 1, {1, 1}},{6382, 1, {0, 2}},{6381, 1, {1, 2}}}, stones = {{3621, 1, {1, 0}},{3612, 1, {1, 0}},{3611, 1, {0, 1}}}},
			[4] = {tiles = {{6380, 1, {1, -1}},{6384, 1, {1, 0}},{6380, 1, {2, 0}},{6382, 1, {-1, 1}},{6377, 1, {0, 1}},{6377, 1, {1, 1}},{6381, 1, {2, 1}}}, stones = {{3611, 1, {1, 0}},{3614, 1, {1, 0}},{3612, 1, {1, 1}}}}
		},
		[cne] = {
			[1] = {tiles = {{6378, 1, {0, 1}},{6386, 1, {1, 1}},{6381, 1, {2, 1}},{6382, 1, {0, 2}},{6381, 1, {1, 2}}}, stones = {{3614, 1, {1, 1}},{3623, 1, {1, 1}},{3622, 1, {0, 1}}}},
			[2] = {tiles = {{6379, 1, {-1, 1}},{6375, 1, {0, 1}},{6386, 1, {1, 1}},{6381, 1, {2, 1}},{6382, 1, {-1, 2}},{6385, 1, {0, 2}},{6376, 1, {1, 2}},{6382, 1, {0, 3}},{6381, 1, {1, 3}}}, stones = {{3614, 1, {1, 1}},{3621, 1, {0, 1}},{3622, 1, {0, 2}}}},
			[3] = {tiles = {{6379, 1, {-1, 0}},{6383, 1, {0, 0}},{6378, 1, {-1, 1}},{6386, 1, {0, 1}},{6377, 1, {1, 1}},{6381, 1, {2, 1}},{6382, 1, {-1, 2}},{6381, 1, {0, 2}}}, stones = {{3613, 1, {0, 0}},{3612, 1, {0, 1}},{3612, 1, {1, 1}}}},
			[4] = {tiles = {{6382, 1, {0, 1}},{6385, 1, {1, 1}},{6376, 1, {2, 1}},{6382, 1, {1, 2}},{6381, 1, {2, 2}}}}
		},
		[n] = {
			[1] = {tiles = {{6385, 1, {0, 1}},{6376, 1, {1, 1}},{6382, 1, {0, 2}},{6381, 1, {1, 2}}}, stones = {{3614, 1, {0, 1}},{3622, 1, {0, 1}},{3613, 1, {0, 1}}}},
			[2] = {tiles = {{6378, 1, {-1, 1}},{6386, 1, {0, 1}},{6382, 1, {1, 1}},{6381, 1, {2, 1}},{6382, 1, {-1, 2}},{6381, 1, {0, 2}}}, stones = {{3614, 1, {0, 1}},{3622, 1, {-1, 1}},{3613, 1, {-1, 1}}}},
			[3] = {tiles = {{6382, 1, {-1, 1}},{6378, 1, {0, 1}},{6377, 1, {0, 1}},{6377, 1, {1, 1}},{6384, 1, {1, 1}},{6380, 1, {2, 1}},{6381, 1, {2, 1}},{6382, 1, {0, 2}},{6377, 1, {1, 2}},{6381, 1, {2, 2}}}, stones = {{3610, 1, {0, 1}},{3623, 1, {0, 1}},{3614, 1, {1, 1}}}},
			[4] = {tiles = {{6379, 1, {-1, 1}},{6380, 1, {0, 1}},{6385, 1, {1, 1}},{6376, 1, {2, 1}},{6382, 1, {-1, 2}},{6381, 1, {0, 2}}}, stones = {{3613, 1, {1, 1}},{3623, 1, {1, 1}},{3612, 1, {0, 2}}}}
		},
		[csw] = {
			[1] = {tiles = {{6380, 1, {1, 0}},{6376, 1, {1, 1}},{6381, 1, {1, 2}}}, stones = {{3614, 1, {1, 1}}}},
			[2] = {tiles = {{6379, 1, {0, -1}},{6383, 1, {0, 0}},{6380, 1, {1, -1}},{6376, 1, {1, 0}},{6384, 1, {1, 1}},{6386, 1, {1, 2}},{6381, 1, {1, 3}},{6380, 1, {2, 1}},{6381, 1, {2, 2}}}, stones = {{3613, 1, {1, 1}},{3612, 1, {1, 2}},{3611, 1, {1, 2}}}},
			[3] = {tiles = {{6375, 1, {1, 0}},{6386, 1, {1, 1}},{6381, 1, {1, 2}},{6380, 1, {2, 0}},{6381, 1, {2, 1}}}, stones = {{3621, 1, {1, 0}},{3623, 1, {1, 1}},{3613, 1, {1, 1}}}},
			[4] = {tiles = {{6379, 1, {1, -1}},{6380, 1, {2, -1}},{6383, 1, {1, 0}},{6386, 1, {1, 1}},{6381, 1, {1, 2}},{6376, 1, {2, 0}},{6381, 1, {2, 1}}}, stones = {{3613, 1, {1, 0}},{3612, 1, {2, 0}},{3611, 1, {1, 1}}}}
		},
		[w] = {
			[1] = {tiles = {{6380, 1, {1, -1}},{6384, 1, {1, 0}},{6374, 1, {1, 1}},{6377, 1, {1, 2}},{6380, 1, {2, 0}},{6376, 1, {2, 1}},{6381, 1, {2, 2}}}, stones = {{3614, 1, {1, 0}},{3610, 1, {1, 1}},{3611, 1, {2, 1}}}},
			[2] = {tiles = {{6375, 1, {1, -1}},{6380, 1, {2, -1}},{6374, 1, {1, 0}},{6386, 1, {1, 1}},{6376, 1, {2, 0}},{6381, 1, {2, 1}}}, stones = {{3614, 1, {1, 0}},{3613, 1, {1, 0}},{3611, 1, {2, 1}}}},
			[3] = {tiles = {{6384, 1, {1, 0}},{6385, 1, {1, 1}},{6382, 1, {1, 2}},{6380, 1, {2, 0}},{6376, 1, {2, 1}},{6381, 1, {2, 2}}}, stones = {{3611, 1, {1, 0}},{3613, 1, {2, 1}},{3614, 1, {2, 1}}}},
			[4] = {tiles = {{6375, 1, {1, -1}},{6380, 1, {2, -1}},{6386, 1, {1, 0}},{6384, 1, {1, 1}},{6381, 1, {2, 0}},{6380, 1, {2, 1}},{6377, 1, {1, 2}},{6381, 1, {2, 2}}}}
		},
		[cse] = {
			[1] = {tiles = {{6379, 1, {-1, -1}},{6380, 1, {0, -1}},{6378, 1, {-1, 0}},{6384, 1, {0, 0}},{6382, 1, {-1, 1}},{6385, 1, {0, 1}}}, stones = {{3611, 1, {0, 0}},{3613, 1, {0, 1}},{3623, 1, {0, 1}}}},
			[2] = {tiles = {{6379, 1, {0, -1}},{6380, 1, {1, -1}},{6375, 1, {-1, 0}},{6383, 1, {0, 0}},{6384, 1, {1, 0}},{6377, 1, {-1, 1}},{6385, 1, {0, 1}}}, stones = {{3610, 1, {0, 0}},{3621, 1, {-1, 0}}}},
			[3] = {tiles = {{6379, 1, {-1, -1}},{6375, 1, {0, -1}},{6375, 1, {1, -1}},{6380, 1, {2, -1}},{6382, 1, {-1, 0}},{6385, 1, {0, 0}},{6386, 1, {1, 0}},{6381, 1, {2, 0}},{6378, 1, {0, 1}}}},
			[4] = {tiles = {{6379, 1, {1, -2}},{6380, 1, {2, -2}},{6379, 1, {0, -1}},{6383, 1, {1, -1}},{6376, 1, {2, -1}},{6382, 1, {0, 0}},{6385, 1, {1, 0}},{6376, 1, {2, 0}}}, stones = {{3610, 1, {1, -1}},{3614, 1, {1, -1}},{3611, 1, {2, -1}}}}
		},
		[e] = {
			[1] = {tiles = {{6375, 1, {0, 0}},{6379, 1, {-1, 0}},{6379, 1, {-2, 1}},{6383, 1, {-1, 1}},{6374, 1, {0, 1}},{6382, 1, {-2, 2}},{6377, 1, {-1, 2}},{6377, 1, {0, 2}}}, stones = {{3621, 1, {-1, 1}},{3613, 1, {-1, 1}},{3623, 1, {-1, 2}}}},
			[2] = {tiles = {{6383, 1, {0, 0}},{6375, 1, {-1, 0}},{6379, 1, {-2, 0}},{6382, 1, {-2, 1}},{6385, 1, {-1, 1}},{6377, 1, {0, 1}},{6384, 1, {0, 1}},{6382, 1, {-1, 2}},{6377, 1, {0, 2}}}, stones = {{3611, 1, {-1, 0}},{3622, 1, {-2, 0}},{3613, 1, {-1, 1}}}},
			[3] = {tiles = {{6379, 1, {-2, -1}},{6375, 1, {-1, -1}},{6375, 1, {0, -1}},{6382, 1, {-2, 0}},{6385, 1, {-1, 0}},{6386, 1, {0, 0}},{6382, 1, {-1, 1}},{6381, 1, {0, 1}}}, stones = {{3614, 1, {-1, -1}},{3622, 1, {-2, -1}},{3611, 1, {-1, 0}}}}
		},
		[s] = {
			[1] = {tiles = {{6379, 1, {-1, -2}},{6375, 1, {0, -2}},{6375, 1, {1, -2}},{6380, 1, {2, -2}},{6382, 1, {-1, -1}},{6385, 1, {0, -1}},{6377, 1, {1, -1}},{6384, 1, {1, -1}},{6380, 1, {2, -1}},{6381, 1, {2, -1}},{6386, 1, {1, 0}},{6381, 1, {2, 0}}}, stones = {{3610, 1, {0, -1}},{3614, 1, {0, -1}},{3613, 1, {1, -1}}}},
			[2] = {tiles = {{6379, 1, {-1, -2}},{6380, 1, {0, -2}},{6378, 1, {-1, -1}},{6384, 1, {0, -1}}}, stones = {{3613, 1, {-1, -1}},{3610, 1, {0, -1}},{3614, 1, {0, -1}}}},
			[3] = {tiles = {{6379, 1, {0, -2}},{6375, 1, {1, -2}},{6380, 1, {2, -2}},{6378, 1, {0, -1}},{6386, 1, {1, -1}},{6381, 1, {2, -1}}}, stones = {{3611, 1, {0, -1}},{3610, 1, {1, -1}},{3614, 1, {1, -1}}}},
			[4] = {tiles = {{6379, 1, {1, -2}},{6380, 1, {2, -2}},{6378, 1, {1, -1}},{6376, 1, {2, -1}},{6378, 1, {1, 0}},{6376, 1, {2, 0}}}, stones = {{3610, 1, {1, -1}},{3611, 1, {2, -1}},{3614, 1, {2, -1}}}}
		},
	}
	
	border_3_cases = {
		[1] = {{4472, 1, {1, 0}},{4475, 1, {1, 1}},{4471, 1, {0, 1}}},
		[2] = {{4474, 1, {0, 1}}},
		[3] = {{4471, 1, {1, 1}}},
		[4] = {{4473, 1, {1, 0}},{4472, 1, {1, 1}}},
		[5] = {{4472, 1, {1, 1}}},
		[7] = {{4476, 1, {1, 1}}}
	}
	
	border_4_cases = {
		[cnw] = {
			[1] = {tiles = {{8043, 1, {1, 0}},{8038, 1, {2, 0}},{8041, 1, {-1, 1}},{8036, 1, {0, 1}},{8042, 1, {0, 1}},{8044, 1, {1, 1}},{8039, 1, {2, 1}},{8040, 1, {-1, 2}},{8045, 1, {0, 2}},{8035, 1, {1, 2}},{8040, 1, {0, 3}},{8039, 1, {1, 3}}}},
			[2] = {tiles = {{8038, 1, {1, -1}},{8043, 1, {1, 0}},{8038, 1, {2, 0}},{8037, 1, {-1, 1}},{8044, 1, {0, 1}},{8036, 1, {1, 1}},{8039, 1, {2, 1}},{8040, 1, {-1, 2}},{8039, 1, {0, 2}}}},
			[3] = {tiles = {{8038, 1, {1, -1}},{8035, 1, {1, 0}},{8040, 1, {-1, 1}},{8045, 1, {0, 1}},{8035, 1, {1, 1}},{8040, 1, {0, 2}},{8039, 1, {1, 2}}}},
			[4] = {tiles = {{8038, 1, {1, -1}},{8043, 1, {1, 0}},{8038, 1, {2, 0}},{8040, 1, {-1, 1}},{8036, 1, {0, 1}},{8036, 1, {1, 1}},{8039, 1, {2, 1}}}}
		},
		[cne] = {
			[1] = {tiles = {{8037, 1, {0, 1}},{8044, 1, {1, 1}},{8039, 1, {2, 1}},{8040, 1, {0, 2}},{8039, 1, {1, 2}}}},
			[2] = {tiles = {{8041, 1, {-1, 1}},{8034, 1, {0, 1}},{8044, 1, {1, 1}},{8039, 1, {2, 1}},{8040, 1, {-1, 2}},{8045, 1, {0, 2}},{8035, 1, {1, 2}},{8040, 1, {0, 3}},{8039, 1, {1, 3}}}},
			[3] = {tiles = {{8041, 1, {-1, 0}},{8042, 1, {0, 0}},{8037, 1, {-1, 1}},{8044, 1, {0, 1}},{8036, 1, {1, 1}},{8039, 1, {2, 1}},{8040, 1, {-1, 2}},{8039, 1, {0, 2}}}},
			[4] = {tiles = {{8040, 1, {0, 1}},{8045, 1, {1, 1}},{8035, 1, {2, 1}},{8040, 1, {1, 2}},{8039, 1, {2, 2}}}}
		},
		[n] = {
			[1] = {tiles = {{8045, 1, {0, 1}},{8035, 1, {1, 1}},{8040, 1, {0, 2}},{8039, 1, {1, 2}}}},
			[2] = {tiles = {{8037, 1, {-1, 1}},{8044, 1, {0, 1}},{8040, 1, {1, 1}},{8039, 1, {2, 1}},{8040, 1, {-1, 2}},{8039, 1, {0, 2}}}},
			[3] = {tiles = {{8040, 1, {-1, 1}},{8037, 1, {0, 1}},{8036, 1, {0, 1}},{8036, 1, {1, 1}},{8043, 1, {1, 1}},{8038, 1, {2, 1}},{8039, 1, {2, 1}},{8040, 1, {0, 2}},{8036, 1, {1, 2}},{8039, 1, {2, 2}}}},
			[4] = {tiles = {{8041, 1, {-1, 1}},{8038, 1, {0, 1}},{8045, 1, {1, 1}},{8035, 1, {2, 1}},{8040, 1, {-1, 2}},{8039, 1, {0, 2}}}}
		},
		[csw] = {
			[1] = {tiles = {{8038, 1, {1, 0}},{8035, 1, {1, 1}},{8039, 1, {1, 2}}}},
			[2] = {tiles = {{8041, 1, {0, -1}},{8042, 1, {0, 0}},{8038, 1, {1, -1}},{8035, 1, {1, 0}},{8043, 1, {1, 1}},{8044, 1, {1, 2}},{8039, 1, {1, 3}},{8038, 1, {2, 1}},{8039, 1, {2, 2}}}},
			[3] = {tiles = {{8034, 1, {1, 0}},{8044, 1, {1, 1}},{8039, 1, {1, 2}},{8038, 1, {2, 0}},{8039, 1, {2, 1}}}, stones = {{3621, 1, {1, 0}},{3623, 1, {1, 1}},{3613, 1, {1, 1}}}},
			[4] = {tiles = {{8041, 1, {1, -1}},{8038, 1, {2, -1}},{8042, 1, {1, 0}},{8044, 1, {1, 1}},{8039, 1, {1, 2}},{8035, 1, {2, 0}},{8039, 1, {2, 1}}}}
		},
		[w] = {
			[1] = {tiles = {{8038, 1, {1, -1}},{8043, 1, {1, 0}},{8033, 1, {1, 1}},{8036, 1, {1, 2}},{8038, 1, {2, 0}},{8035, 1, {2, 1}},{8039, 1, {2, 2}}}},
			[2] = {tiles = {{8034, 1, {1, -1}},{8038, 1, {2, -1}},{8033, 1, {1, 0}},{8044, 1, {1, 1}},{8035, 1, {2, 0}},{8039, 1, {2, 1}}}},
			[3] = {tiles = {{8043, 1, {1, 0}},{8045, 1, {1, 1}},{8040, 1, {1, 2}},{8038, 1, {2, 0}},{8035, 1, {2, 1}},{8039, 1, {2, 2}}}},
			[4] = {tiles = {{8034, 1, {1, -1}},{8038, 1, {2, -1}},{8044, 1, {1, 0}},{8043, 1, {1, 1}},{8039, 1, {2, 0}},{8038, 1, {2, 1}},{8036, 1, {1, 2}},{8039, 1, {2, 2}}}}
		},
		[cse] = {
			[1] = {tiles = {{8041, 1, {-1, -1}},{8038, 1, {0, -1}},{8037, 1, {-1, 0}},{8043, 1, {0, 0}},{8040, 1, {-1, 1}},{8045, 1, {0, 1}}}},
			[2] = {tiles = {{8041, 1, {0, -1}},{8038, 1, {1, -1}},{8034, 1, {-1, 0}},{8042, 1, {0, 0}},{8043, 1, {1, 0}},{8036, 1, {-1, 1}},{8045, 1, {0, 1}}}},
			[3] = {tiles = {{8041, 1, {-1, -1}},{8034, 1, {0, -1}},{8034, 1, {1, -1}},{8038, 1, {2, -1}},{8040, 1, {-1, 0}},{8045, 1, {0, 0}},{8044, 1, {1, 0}},{8039, 1, {2, 0}},{8037, 1, {0, 1}}}},
			[4] = {tiles = {{8041, 1, {1, -2}},{8038, 1, {2, -2}},{8041, 1, {0, -1}},{8042, 1, {1, -1}},{8035, 1, {2, -1}},{8040, 1, {0, 0}},{8045, 1, {1, 0}},{8035, 1, {2, 0}}}}
		},
		[e] = {
			[1] = {tiles = {{8034, 1, {0, 0}},{8041, 1, {-1, 0}},{8041, 1, {-2, 1}},{8042, 1, {-1, 1}},{8033, 1, {0, 1}},{8040, 1, {-2, 2}},{8036, 1, {-1, 2}},{8036, 1, {0, 2}}}},
			[2] = {tiles = {{8042, 1, {0, 0}},{8034, 1, {-1, 0}},{8041, 1, {-2, 0}},{8040, 1, {-2, 1}},{8045, 1, {-1, 1}},{8036, 1, {0, 1}},{8043, 1, {0, 1}},{8040, 1, {-1, 2}},{8036, 1, {0, 2}}}},
			[3] = {tiles = {{8041, 1, {-2, -1}},{8034, 1, {-1, -1}},{8034, 1, {0, -1}},{8040, 1, {-2, 0}},{8045, 1, {-1, 0}},{8044, 1, {0, 0}},{8040, 1, {-1, 1}},{8039, 1, {0, 1}}}}
		},
		[s] = {
			[1] = {tiles = {{8041, 1, {-1, -2}},{8034, 1, {0, -2}},{8034, 1, {1, -2}},{8038, 1, {2, -2}},{8040, 1, {-1, -1}},{8045, 1, {0, -1}},{8036, 1, {1, -1}},{8043, 1, {1, -1}},{8038, 1, {2, -1}},{8039, 1, {2, -1}},{8044, 1, {1, 0}},{8039, 1, {2, 0}}}},
			[2] = {tiles = {{8041, 1, {-1, -2}},{8038, 1, {0, -2}},{8037, 1, {-1, -1}},{8043, 1, {0, -1}}}},
			[3] = {tiles = {{8041, 1, {0, -2}},{8034, 1, {1, -2}},{8038, 1, {2, -2}},{8037, 1, {0, -1}},{8044, 1, {1, -1}},{8039, 1, {2, -1}}}},
			[4] = {tiles = {{8041, 1, {1, -2}},{8038, 1, {2, -2}},{8037, 1, {1, -1}},{8035, 1, {2, -1}},{8037, 1, {1, 0}},{8035, 1, {2, 0}}}}
		},
	}
	
	border_5_cases = {
		[dnw] = {
			[1] = {tiles = {{13720, 1, {1, 1}},{13721, 1, {2, 1}}}},
			[2] = {tiles = {{13729, 1, {1, 1}},{13726, 1, {2, 1}}}},
			[3] = {tiles = {{13731, 1, {1, 1}},{13480, 1, {2, 1}}}},
			[4] = {tiles = {{1419, 1, {1, 1}},{1420, 1, {2, 1}}}},
			[5] = {tiles = {{13718, 1, {1, 1}},{13719, 1, {1, 2}}}},
			[6] = {tiles = {{13730, 1, {1, 1}},{13482, 1, {1, 2}}}},
			[7] = {tiles = {{13732, 1, {1, 1}},{13481, 1, {1, 2}}}},
			[8] = {tiles = {{1417, 1, {1, 1}},{1418, 1, {1, 2}}}}
		},
		[dne] = {
			[1] = {tiles = {{13720, 1, {-2, 1}},{13721, 1, {-1, 1}}}},
			[2] = {tiles = {{13729, 1, {-2, 1}},{13726, 1, {-1, 1}}}},
			[3] = {tiles = {{13731, 1, {-2, 1}},{13480, 1, {-1, 1}}}},
			[4] = {tiles = {{1419, 1, {-2, 1}},{1420, 1, {-1, 1}}}},
			[5] = {tiles = {{13718, 1, {-1, 1}},{13719, 1, {-1, 2}}}},
			[6] = {tiles = {{13730, 1, {-1, 1}},{13482, 1, {-1, 2}}}},
			[7] = {tiles = {{13732, 1, {-1, 1}},{13481, 1, {-1, 2}}}},
			[8] = {tiles = {{1417, 1, {-1, 1}},{1418, 1, {-1, 2}}}}
		},
		[n] = {
			[1] = {tiles = {{13720, 1, {0, 1}},{13721, 1, {1, 1}}}},
			[2] = {tiles = {{13729, 1, {0, 1}},{13726, 1, {1, 1}}}},
			[3] = {tiles = {{13731, 1, {0, 1}},{13480, 1, {1, 1}}}},
			[4] = {tiles = {{1419, 1, {0, 1}},{1420, 1, {1, 1}}}}
		},
		[dsw] = {
			[1] = {tiles = {{13720, 1, {1, -1}},{13721, 1, {2, -1}}}},
			[2] = {tiles = {{13729, 1, {1, -1}},{13726, 1, {2, -1}}}},
			[3] = {tiles = {{13731, 1, {1, -1}},{13480, 1, {2, -1}}}},
			[4] = {tiles = {{1419, 1, {1, -1}},{1420, 1, {2, -1}}}},
			[5] = {tiles = {{13718, 1, {1, -2}},{13719, 1, {1, -1}}}},
			[6] = {tiles = {{13730, 1, {1, -2}},{13482, 1, {1, -1}}}},
			[7] = {tiles = {{13732, 1, {1, -2}},{13481, 1, {1, -1}}}},
			[8] = {tiles = {{1417, 1, {1, -2}},{1418, 1, {1, -1}}}}
		},
		[w] = {
			[1] = {tiles = {{13718, 1, {1, 0}},{13719, 1, {1, 1}}}},
			[2] = {tiles = {{13730, 1, {1, 0}},{13482, 1, {1, 1}}}},
			[3] = {tiles = {{13732, 1, {1, 0}},{13481, 1, {1, 1}}}},
			[4] = {tiles = {{1417, 1, {1, 0}},{1418, 1, {1, 1}}}}
			},
		[dse] = {
			[1] = {tiles = {{13720, 1, {-2, -1}},{13721, 1, {-1, -1}}}},
			[2] = {tiles = {{13729, 1, {-2, -1}},{13726, 1, {-1, -1}}}},
			[3] = {tiles = {{13731, 1, {-2, -1}},{13480, 1, {-1, -1}}}},
			[4] = {tiles = {{1419, 1, {-2, -1}},{1420, 1, {-1, -1}}}},
			[5] = {tiles = {{13718, 1, {-1, -2}},{13719, 1, {-1, -1}}}},
			[6] = {tiles = {{13730, 1, {-1, -2}},{13482, 1, {-1, -1}}}},
			[7] = {tiles = {{13732, 1, {-1, -2}},{13481, 1, {-1, -1}}}},
			[8] = {tiles = {{1417, 1, {-1, -2}},{1418, 1, {-1, -1}}}}
		},
		[e] = {
			[1] = {tiles = {{13718, 1, {-1, 0}},{13719, 1, {-1, 1}}}},
			[2] = {tiles = {{13730, 1, {-1, 0}},{13482, 1, {-1, 1}}}},
			[3] = {tiles = {{13732, 1, {-1, 0}},{13481, 1, {-1, 1}}}},
			[4] = {tiles = {{1417, 1, {-1, 0}},{1418, 1, {-1, 1}}}}
		},
		[s] = {
			[1] = {tiles = {{13720, 1, {0, -1}},{13721, 1, {1, -1}}}},
			[2] = {tiles = {{13729, 1, {0, -1}},{13726, 1, {1, -1}}}},
			[3] = {tiles = {{13731, 1, {0, -1}},{13480, 1, {1, -1}}}},
			[4] = {tiles = {{1419, 1, {0, -1}},{1420, 1, {1, -1}}}}
		},
	}
	
	d_e_borders = {
		[1] = {
			[cnw] = {{877, 1, {0, 0}},{4459, 1, {1, 0}},{4456, 1, {0, 1}},{4460, 1, {1, 1}}},
			[cne] = {{875, 1, {0, 0}},{874, 1, {1, 0}},{4461, 1, {0, 1}},{4456, 1, {1, 1}}},
			[n] = {{874, 1, {1, 0}},{4456, 1, {1, 1}}},
			[csw] = {{876, 1, {0, 0}},{4463, 1, {1, 0}},{873, 1, {0, 1}},{4459, 1, {1, 1}}},
			[w] = {{873, 1, {0, 0}},{4459, 1, {1, 0}}},
			[dse_dnw] = {{4479, 1, {0, 0}},{4476, 1, {1, 1}},action = {ACTION_DSE_DNW_DEBUG_1,true}}, -- before placing borders, after is false
			[dnw] = {{874, 1, {1, 0}},{873, 1, {0, 1}},{4464, 1, {1, 1}}},
			[cse] = {{4470, 1, {0, 0}},{875, 1, {0, 1}},action = {ACTION_CSE_DEBUG_1,true}},
			[dsw_dne] = {{4477, 1, {1, 0}},{4478, 1, {0, 1}}},
			[e] = {{4468, 1, {0, 1}}},
			[dne] = {{4478, 1, {0, 1}}},
			[s] = {{4469, 1, {0, 0}}},
			[dsw] = {{873, 1, {0, 0}},{4477, 1, {1, 0}}},
			[dse] = {{4479, 1, {0, 0}},action = {ACTION_DSE_DEBUG_1,true}}
		},
		[2] = {
			[cnw] = {action = {ACTION_BORDER_2,true}},
			[cne] = {action = {ACTION_BORDER_2,true}},
			[n] = {action = {ACTION_BORDER_2,true}},
			[csw] = {action = {ACTION_BORDER_2,true}},
			[w] = {action = {ACTION_BORDER_2,true}},
			[cse] = {action = {ACTION_BORDER_2,true}},
			[e] = {action = {ACTION_BORDER_2,true}},
			[s] = {action = {ACTION_BORDER_2,true}}
		},
		[3] = {
			[1] = {action = {ACTION_BORDER_3,true}}, -- doCreateItem_Pathable, only if inst_ab_randomizer == 4, inst_ab_randomizer = math.random(1,5)
			[2] = {action = {ACTION_BORDER_3,true}},
			[3] = {action = {ACTION_BORDER_3,true}},
			[4] = {action = {ACTION_BORDER_3,true}},
			[5] = {action = {ACTION_BORDER_3,true}},
			[7] = {action = {ACTION_BORDER_3,true}}
		},
		[4] = {
			[cnw] = {{1064, 1, {0, 0}}},
			[cne] = {{1060, 1, {0, 0}}, {1061, 1, {1, 0}}},
			[n] = {{1061, 1, {1, 0}}},
			[csw] = {{1061, 1, {0, 0}}},
			[w] = {{1060, 1, {0, 0}}},
			[dse_dnw] = {{1061, 1, {0, 0}},{1061, 1, {1, 0}}},
			[dnw] = {{1061, 1, {1, 0}},{1060, 1, {0, 1}}, {1062, 1, {0, 0}}},
			[cse] = {{1062, 1, {0, 0}},{1060, 1, {0, 1}}},
			[dsw_dne] = {{1060, 1, {0, 0}},{1060, 1, {0, 1}}},
			[e] = {{1060, 1, {0, 1}}},
			[dne] = {{1060, 1, {0, 1}}},
			[s] = {{1061, 1, {0, 0}}},
			[dsw] = {{1060, 1, {0, 0}}},
			[dse] = {{1064, 1, {0, 0}}}
		},
		[5] = {
			[cnw] = {action = {ACTION_BORDER_4,true}},
			[cne] = {action = {ACTION_BORDER_4,true}},
			[n] = {action = {ACTION_BORDER_4,true}},
			[csw] = {action = {ACTION_BORDER_4,true}},
			[w] = {action = {ACTION_BORDER_4,true}},
			[cse] = {action = {ACTION_BORDER_4,true}},
			[e] = {action = {ACTION_BORDER_4,true}},
			[s] = {action = {ACTION_BORDER_4,true}}
		},
		[6] = {
			[dnw] = {action = {ACTION_BORDER_5,true}},
			[dne] = {action = {ACTION_BORDER_5,true}},
			[n] = {action = {ACTION_BORDER_5,true}},
			[dsw] = {action = {ACTION_BORDER_5,true}},
			[w] = {action = {ACTION_BORDER_5,true}},
			[dse] = {action = {ACTION_BORDER_5,true}},
			[e] = {action = {ACTION_BORDER_5,true}},
			[s] = {action = {ACTION_BORDER_5,true}}
		},
		[7] = {
			[cnw] = {{364, 1, {0, 0}}},
			[cne] = {{365, 1, {0, 0}}},
			[n] = {{356, 1, {0, 0}}},
			[csw] = {{367, 1, {0, 0}}},
			[w] = {{358, 1, {0, 0}}},
			[dse_dnw] = {{362, 1, {0, 0}},{360, 1, {1, 1}}},
			[dnw] = {{360, 1, {0, 0}}},
			[cse] = {{366, 1, {0, 0}}},
			[dsw_dne] = {{363, 1, {1, 0}},{361, 1, {0, 1}}},
			[e] = {{359, 1, {0, 0}}},
			[s] = {{357, 1, {0, 0}}},
			[dse] = {{362, 1, {0, 0}}}
		},
		[8] = {
			[cnw] = {{15509, 1, {1, 1}}, {15503, 1, {0, 1}}, {15506, 1, {1, 0}}},
			[cne] = {{15510, 1, {0, 1}}, {15504, 1, {0, 0}}, {15503, 1, {1, 1}}},
			[n] = {{15503, 1, {0, 1}}},
			[csw] = {{15508, 1, {1, 0}}, {15505, 1, {0, 0}}, {15506, 1, {1, 1}}},
			[w] = {{15506, 1, {1, 0}}},
			[dse_dnw] = {{15511, 1, {0, 0}}, {15513, 1, {1, 1}}},
			[dnw] = {{15513, 1, {1, 1}}},
			[cse] = {{15507, 1, {0, 0}}},
			[dsw_dne] = {{15514, 1, {0, 1}}, {15512, 1, {1, 0}}},
			[e] = {{15504, 1, {0, 0}}},
			[dne] = {{15514, 1, {0, 1}}},
			[s] = {{15505, 1, {0, 0}}},
			[dsw] = {{15512, 1, {1, 0}}},
			[dse] = {{15511, 1, {0, 0}}}
		},
		[9] = {
			[14] = {{4812, 1, {1, 1}}, {4808, 1, {0, 1}}, {4811, 1, {1, 0}}},
			[13] = {{4813, 1, {0, 1}}, {4809, 1, {0, 0}}, {4808, 1, {1, 1}}},
			[12] = {{4808, 1, {0, 1}}},
			[11] = {{4814, 1, {1, 0}}, {4810, 1, {0, 0}}, {4811, 1, {1, 1}}},
			[10] = {{4811, 1, {1, 0}}},
			[9] = {{4819, 1, {0, 0}}, {4816, 1, {1, 1}}},
			[8] = {{4816, 1, {1, 1}}},
			[7] = {{4815, 1, {0, 0}}},
			[6] = {{4817, 1, {0, 1}}, {4818, 1, {1, 0}}},
			[5] = {{4809, 1, {0, 0}}},
			[4] = {{4817, 1, {0, 1}}},
			[3] = {{4810, 1, {0, 0}}},
			[2] = {{4818, 1, {1, 0}}},
			[1] = {{4819, 1, {0, 0}}}
		},
	}
	BORDER_STAIRS_DEFAULT = {4462, 4458, 4463, 4457, 4459, 4461, 4456, 4460} -- needs to be in this order to autoborder correctly